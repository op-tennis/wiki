# 自動抽選処理の実行環境調査

[Cloudflare Workersの調査](https://www.notion.so/Cloudflare-Workers-19c70aad33b742d3a5f41139d18a8b43?pvs=21)

[AWS Lambdaの調査](https://www.notion.so/AWS-Lambda-e6d0ebcf52234e039dd5681b3d32179c?pvs=21)

[Azure Functions](https://www.notion.so/Azure-Functions-a0ab70b128804fa28fcb7cdd1affc59c?pvs=21)

[Cloud Functions](https://www.notion.so/Cloud-Functions-f1c28f7c06354cdb97502ef1868c5a20?pvs=21)

[AWS Batch](https://www.notion.so/AWS-Batch-c4b892cffbb24649945d9025795bcad7?pvs=21)

## まとめ

- Cloudflare Workersは採用できない
    - Browser Rendering APIでは、スクリーンショットを撮る事が目的として作られている
    - Browser Rendering APIを試したところ、beta版のコミュニティへの参加が必須だった
- AWS Lambda・Azure Functions・Cloud Functionsは採用が難しい
    - 実行時間に1制限がある以上、人数比例で処理時間が増える自動抽選機能には向いていないと考えられる
    - Cloud Functionsは実行時間の余裕もAWS Lambdaより長いため、Cloud Functionsで一度実行時間を試してみても良いかもしれない
- Cloudflare Workersは情報量が少ない
    - ブラウザ自動操縦で利用するBrowser Rendering APIの正式リリースが2024/4なので情報量が少ない
    - 1リクエストのCPU処理時間が10msという制約があるので、ブラウザ自動操縦が可能なのかは試してみないと分からない
- AWS Batchs x AWS スポットインスタンスなら実行時間の制約は気にしなくて良いけど、料金面が気になる